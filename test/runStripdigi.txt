process PROD = {

        source = EmptySource { 
	       int32 maxEvents = 4	
	}
        es_module = VolumeBasedMagneticFieldESProducer {}
	es_source = XMLIdealGeometryESSource {FileInPath GeometryConfiguration="SimTracker/SiPixelDigitizer/test/testConfiguration.xml" string rootNodeName = ""}
# note that at moment I prefer to ask the xml file inside SiPixelDigitizer in order to avoid unnecessary replications of the same file!
        es_module = TrackerGeometricDetESModule {}
        es_module = TrackerDigiGeometryESModule {}
	module stripdigi =  SiStripDigitizer {
           string SimProducer = "SimDigitizer"	
	   bool APVpeakmode = false
	   bool NoNoise = false
	   bool LandauFluctuations = true
	   int32 chargeDivisionsPerStrip = 10
	   double DepletionVoltage = 140.
	   double AppliedVoltage = 150.
	   double ChargeMobility = 480.
	   double Temperature = 297.
	   bool noDiffusion = false
	   double ChargeDistributionRMS = 6.5e-10
	   double GevPerElectron = 3.61e-09

           double ElectronPerAdc = 313.0 
	   double EquivalentNoiseCharge300um = 2160.
	   double AdcThreshold = 2.
	   int32 AdcFullScale = 255
	   double ThresholdInNoiseUnits = 5.
           double TanLorentzAnglePerTesla =0.106
	   int32 AddStripInefficiency = 0
	   bool AddNoise = true
	   bool AddNoisyStrips = true
           double DeltaProductionCut= 0.120425 
	   bool FluctuateCharge = true
	   int32 addStripInefficiency = 0
           double StripEff = -1.0
           double StripChipEff = -1.0	   
	   bool MissCalibrate = false
	   double GainSmearing = 0.0
	   double OffsetSmearing = 0.0
	   int32 StripAPV = 128
	   
	   int32 FedAlgorithm = 4
	   double FedLowThreshold = 2.
	   double FedHighThreshold = 5.

	   untracked int32 VerbosityLevel = 2		 
	}
               module out = PoolOutputModule {
               untracked string fileName = 'stripdigi.root'
        }
                                                                                                             
	path p = {stripdigi,out}
}
