process PROD  = 
	{

    
    # NOTE : if one wants to run with the SiStripDigitizer,
    #        then mag.field in the OscarProducer should be
    #        turned ON; otherwise it gets (re)created by the
    #        SiStripDigitizer, which seems to corrupt at all 
    #        the edm::Event record
    
    
        source = PoolSource {
                  untracked string fileName = 'SingleMuonSimHits.root'
                  untracked string catalog = 'PoolFileCatalog.xml'
                  untracked int32 maxEvents = -1
                  }
 
         service = SimpleMemoryCheck 
	 {
	    untracked int32 ignoreTotal = 1
	 }
        service = MessageLogger {
            vstring destinations = { "cerr" }
                PSet cerr = { string threshold = "WARNING" }
        }


		es_source magfield = XMLIdealGeometryESSource {
		  FileInPath GeometryConfiguration ="Geometry/CMSCommonData/data/FieldConfiguration.xml"
		  #the proper root node is set in the xml file
		  string rootNodeName=""
		}
		es_module = VolumeBasedMagneticFieldESProducer {
 	           double findVolumeTolerance = 0.0
 	           untracked bool cacheLastVolume = true
	           untracked bool timerOn = false
		}

		#Geometry
		es_source = XMLIdealGeometryESSource 
		{ FileInPath GeometryConfiguration = "Geometry/CMSCommonData/data/SimConfiguration.xml"
		  #the proper root node is set in the xml file
		  string rootNodeName = ""
                }
		es_module = TrackerGeometricDetESModule {}
		
		es_module = TrackerDigiGeometryESModule {}
 
include "SimTracker/SiStripDigitizer/data/SiStripDigi.cfi"

		path p1 = { stripdigi }
		
	}		
